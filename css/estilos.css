@font-face {
  font-family: 'Lexend';
  src: url('fonts/Lexend-Regular.woff2') format('woff2');
  font-weight: normal;
  font-style: normal;
}

/* === VARIABLES GLOBALES === */
:root {
    --color-blanco: white;
    --color-fondo: #fefdf9;
    --color-negro-oliva: #333;
    --color-casi-negro: #222;
    --color-secundario: #555;
    --color-gris-clarito: #777;
    --color-gris-mas-clarito: #ccc;
    --color-gris-muy-clarito: #ddd;
    --color-gris-muy-muy-clarito: #eee;
    --color-azul-francia: #0056b3;
    --color-rojo-ofertas: #ff4444;
}

/* === ESTILOS GENERALES === */
body {
    font-family: 'Lexend', sans-serif;
    margin: 0;
    padding: 0;
    background-color: var(--color-fondo);
    user-select: none;
}

/* === HEADER === */
.header {
    text-align: center;
    padding: 0;
    background-color: var(--color-fondo);
    border-bottom: 1px solid var(--color-gris-muy-clarito);
}

/* === LOGO === */
.logo {
    width: 130px;
    height: auto;
    display: block;
    margin: 0 auto;
    padding: 10px 10px 10px 10px;
}

/* === FILTRO DE BÚSQUEDA === */
.filter-container {
    padding: 10px 10px 0 10px;
    background: var(--color-fondo);
    border-bottom: 1px solid var(--color-gris-muy-clarito);
    position: sticky;
    top: 0;
    z-index: 1000;
}

.filter-input-wrapper {
    position: relative;
    width: 100%;
}

.filter-input-wrapper input {
    width: 100%;
    padding: 10px 40px 10px 10px; /* Espacio a la derecha para la cruz */
    font-size: 0.9em;
    border: 1px solid var(--color-gris-mas-clarito);
    border-radius: 5px;
    font-family: 'Lexend', Arial, sans-serif;
}

#clear-filter {
    position: absolute;
    padding: 15px 10px 15px 20px;
    right: 10px;
    top: 50%;
    transform: translateY(-50%);
    font-size: 1.2em;
    color: var(--color-gris-clarito);
    cursor: pointer;
    display: none;
    user-select: none;
}

/* === TAGS === */
.tags-container {
    display: flex;
    flex-wrap: wrap;
    gap: 6.5px;
    padding: 10px 0 10px 0;
    line-height: 1.5em; /* Altura consistente para cada línea */
    max-height: calc(3em + 19px); /* 2 líneas (1.5em cada una) + padding */
    overflow: hidden;
    transition: max-height 0.3s ease;
    align-content: flex-start; /* Alinear líneas arriba */
}

.tags-container.expandido {
    max-height: none;
}

.tag {
    background-color: var(--color-gris-muy-muy-clarito);
    color: var(--color-negro-oliva);
    font-size: 0.8em;
    border: 1px solid var(--color-gris-mas-clarito);
    border-radius: 15px;
    padding: 5px 10px;
    cursor: pointer;
    transition: background-color 0.2s ease;
    font-family: 'Lexend', sans-serif;
    display: inline-block;
    font-weight: normal;
    max-width: 100%;
    white-space: nowrap;
    overflow: hidden;
    text-overflow: ellipsis;
}

.tag:hover {
    background-color: var(--color-gris-muy-clarito);
}

/* === TAGS SELECCIONADOS === */
.tag.selected {
    background-color: var(--color-azul-francia);
    color: var(--color-blanco);
    border-color: var(--color-azul-francia);
}

.tag.selected:hover {
    background-color: var(--color-azul-francia);
    opacity: 0.9;
}

.tag.toggle-tag.selected {
    background-color: var(--color-gris-muy-muy-clarito);
    color: var(--color-negro-oliva);
    border-color: var(--color-gris-mas-clarito);
}

/* === PRODUCTOS === */
.productos-lista {
    list-style: none;
    padding: 0;
    margin: 0;
}

.producto-item {
    display: flex;
    align-items: center; /* Añade esta línea para centrado vertical */
    padding: 10px;
    border-bottom: 1px solid var(--color-gris-muy-clarito);
    background: var(--color-fondo);
}

.producto-thumbnail {
    position: relative;
    margin-right: 10px;
    flex-shrink: 0;
    width: 90px;
    height: 90px;
    cursor: pointer; /* Asegurar que la imagen del producto sea clickeable */
}

.producto-thumbnail img {
    height: 100%;
    width: 100%;
    object-fit: cover;
    border-radius: 15px;
    display: block;
}

/* === OVERLAY DE IMAGEN A PANTALLA COMPLETA === */
.image-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.9);
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 2000;
    cursor: pointer;
    opacity: 0;
    visibility: hidden;
    transition: opacity 0.3s ease, visibility 0.3s ease;
}

.image-overlay.active {
    opacity: 1;
    visibility: visible;
}

.image-overlay img {
    max-width: 90%;
    max-height: 90%;
    object-fit: contain;
    cursor: default;
    border-radius: 15px; /* Mismo radio que las miniaturas */
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.3); /* Sutil sombra para mejor contraste */
}

.producto-contenido {
    position: relative;
    max-height: 1000px;
    display: flex;
    flex-direction: column;
    justify-content: center; /* Centrado vertical del contenido */
    height: 80px; /* Misma altura que la imagen */
    gap: 7px;
}

.oferta-label {
    position: absolute;
    top: 4px;
    left: -5px;
    background-color: var(--color-rojo-ofertas);
    color: var(--color-blanco);
    font-weight: bold;
    font-size: 0.5em;
    padding: 2.5px 4px;
    border-radius: 2px;
    z-index: 2; /* Para que aparezca sobre la imagen */
    opacity: 85%;
    box-shadow: 0 1px 2px rgba(0,0,0,0.2);
}

/* Opcional: Efecto al pasar el ratón */
.oferta-label:hover {
    transform: rotate(-15deg) scale(1.1);
    opacity: 1;
}

.producto-titulo {
    margin: 0;
    margin-bottom: 0px;
    font-size: 0.85em;
    line-height: 1.2; /* Mejor legibilidad */
    color: var(--color-casi-negro);
}

.logo-sin-tacc-inline {
    width: 15px;
    margin-left: 3px;
    margin-bottom: 0px;
    vertical-align: text-bottom;
    opacity: 100%;
}

.logo-organico-inline {
    width: 15px;
    margin-left: 3px;
    vertical-align: text-bottom;
}

.producto-descripcion {
    font-size: 0.75em;
    color: var(--color-gris-clarito);
    margin: 0px 0; /* Espaciado más equilibrado */
    line-height: 1.2; /* Mejor legibilidad */
}

.producto-precio {
    font-size: 0.85em;
    color: var(--color-gris-clarito);
    margin: 0px 0 0 0; /* Espaciado más equilibrado */
    line-height: 1.2; /* Mejor legibilidad */
}

.producto-unidad {
    font-size: 0.85em;
    margin-left: 5px;
    line-height: 1; /* Mejor legibilidad */
    color: var(--color-secundario);
}

.producto-tags {
    display: none;
}

/* === PRODUCTOS SIN STOCK === */
.producto-item.sin-stock {
    position: relative;
    opacity: 0.6;
    overflow: hidden;
}

.producto-item.sin-stock::before {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: repeating-linear-gradient(
        0deg,
        transparent,
        transparent 100%,
        rgba(255,255,255,0.5) 100%,
        rgba(255,255,255,0.5) 100%
    );
    background-size: 100% 4px;
    z-index: 2;
    pointer-events: none;
}

.producto-item.sin-stock::after {
    content: "SIN STOCK   SIN STOCK   SIN STOCK   SIN STOCK   SIN STOCK   SIN STOCK   SIN STOCK   SIN STOCK   SIN STOCK   SIN STOCK   SIN STOCK   SIN STOCK   SIN STOCK   SIN STOCK   SIN STOCK   SIN STOCK   SIN STOCK   SIN STOCK   SIN STOCK   SIN STOCK   SIN STOCK";
    position: absolute;
    top: 50%;
    left: 1%;
    width: 100%;
    transform: translateY(-50%);
    white-space: nowrap;
    color: rgba(255, 0, 0, 0.2);
    font-size: 1em;
    font-weight: bold;
    z-index: 1;
    text-align: center;
    pointer-events: none;
    letter-spacing: 1px;
    text-shadow: 1px 1px 2px rgba(0,0,0,0.15);
}

.producto-item.sin-stock .producto-thumbnail img {
    filter: grayscale(100%) brightness(1.1);
}

.producto-item.sin-stock .producto-titulo,
.producto-item.sin-stock .producto-descripcion,
.producto-item.sin-stock .producto-precio {
    color: var(--color-gris-clarito);
    position: relative;
    z-index: 3; /* Para que el texto del producto quede sobre el fondo */
}

/* === BOTÓN FLOTANTE === */
.fab {
    position: fixed;
    bottom: 20px;
    right: 20px;
    width: 70px;
    height: 70px;
    background-color: var(--color-blanco);
    border-radius: 50%;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
    display: flex;
    justify-content: center;
    align-items: center;
    text-decoration: none;
    z-index: 1000;
    transition: background-color 0.3s ease, transform 0.3s ease;
}

.fab:hover {
    background-color: var(--color-azul-francia);
    transform: scale(1.1);
}

.fab img {
    width: 70px;
    height: 70px;
    object-fit: cover;
    border-radius: 50%;
}

/* Solución para el padding en Safari (iPhone) */
@supports (-webkit-touch-callout: none) {
  .tags-container {
    padding-bottom: 20px !important; /* 10px normal + 10px extra para Safari */
  }
  
  .tags-container.expandido {
    padding-bottom: 10px !important; /* Volver al valor normal cuando está expandido */
  }
}

/* Estilos para el botón de cerrar */
.close-button {
    position: fixed;
    top: 20px;
    right: 20px;
    width: 40px;
    height: 40px;
    background-color: rgba(255, 255, 255, 0.2);
    border-radius: 50%;
    display: flex;
    justify-content: center;
    align-items: center;
    cursor: pointer;
    z-index: 2001;
    transition: background-color 0.3s ease;
    border: none;
}

.close-button:hover {
    background-color: rgba(255, 255, 255, 0.3);
}

.close-button::before, .close-button::after {
    content: '';
    position: absolute;
    width: 20px;
    height: 2px;
    background-color: white;
}

.close-button::before {
    transform: rotate(45deg);
}

.close-button::after {
    transform: rotate(-45deg);
}